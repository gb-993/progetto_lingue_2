{% extends "base.html" %}
{% block title %}Parameters{% endblock %}
{% block breadcrumb %}
  <li aria-current="page">Parameters</li>
{% endblock %}

{% block content %}
<header class="dashboard-hero">
  <h1>Parameters</h1>
</header>

{% include "_toolbar_search.html" with q=q placeholder="Search parameters…" %}

  <h2 id="table-heading" class="sr-only">Parameter list</h2>

  <table class="table" role="table" aria-describedby="table-caption">
    <caption id="table-caption" class="sr-only">
      Ordered parameters with position, label, name, questions, stop count, status and actions.
      {% if parameters %} Total items: {{ parameters|length }}.{% endif %}
    </caption>
    <thead>
      <tr>
        <th scope="col">Label</th>
        <th scope="col">Name</th>
        <th scope="col">Schema</th>   
        <th scope="col">Type</th>
        <th scope="col">Lvl comparison</th>
        <th scope="col">#Q</th>
        <th scope="col">#QS</th>
        <th scope="col">Status</th>
        <th scope="col"></th>
      </tr>
    </thead>

    <tbody>
      {% for p in parameters %}
      <tr>
        <td data-label="Label">{{ p.id }}</td>
        <td data-label="Name">{{ p.name }}</td>
        <td data-label="Schema">{{ p.schema|default:"—" }}</td>
        <td data-label="Type">{{ p.param_type|default:"—" }}</td>
      <td data-label="Lvl comparison">{{ p.level_of_comparison|default:"—" }}</td>
        <td data-label="#Q">{{ p.questions_count  }}</td>
        <td data-label="#Stop">{{ p.stop_count }}</td>
        <td data-label="Status">
          {% if p.is_active %}
            <span  aria-label="Status: Active">Active</span>
          {% else %}
            <span  aria-label="Status: Disabled">Disabled</span>
          {% endif %}
        </td>
        <td data-label="Actions" class="row-actions">
          <a class="btn" href="{% url 'parameter_edit' p.id %}" aria-label="Modify parameter {{ p.id }}">
            Edit<span class="sr-only"> parameter {{ p.id }}</span>
          </a>
        </td>
      </tr>
      {% empty %}
      <tr>
        <td colspan="7">
          <p class="muted" role="status" aria-live="polite">No parameters found.</p>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>


    <style>
  .dashboard-hero {
    margin-bottom: 4rem;
  }
</style>
{% endblock %}
