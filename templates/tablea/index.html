{% extends "base.html" %}
{% block title %}Table A{% endblock %}
{% block breadcrumb %}Table A{% endblock %}

{% block content %}
  <div class="toolbar" role="region" aria-label="Azioni tabella">
    <div aria-hidden="true"></div>
    <div class="row-actions">
      <a class="btn" href="{% url 'tablea_export_xlsx' %}">Export .xlsx</a>
      <a class="btn" href="{% url 'tablea_export_csv' %}">Export .csv</a>
    </div>
  </div>

  <div class="card table-container">
    {% if rows %}
      <div class="table-scroll" role="region"
          aria-label="Table A – scroll horizontally to see all languages"
          tabindex="0">
        <table class="table table--freeze" aria-describedby="tablea-desc">
          <caption id="tablea-desc">
            Valori per parametro (righe) e lingua (colonne).
          </caption>

          <thead>
            <tr>
              <th scope="col" class="col-sticky-left">Label</th>
              <th scope="col" class="col-sticky-left-2">Name</th>
              <th scope="col">Implication</th>
              {% for lang in languages %}
                <th scope="col">{{ lang.id }}</th>
              {% empty %}
                <th scope="col">No languages</th>
              {% endfor %}
            </tr>
          </thead>

          <tbody>
            {% for row in rows %}
              <tr>
                <th scope="row" class="col-sticky-left">{{ row.p.id }}</th>
                <td class="col-sticky-left-2">{{ row.p.name }}</td>
                <td class="muted">{{ row.p.implicational_condition }}</td>

                {% for val in row.cells %}
                  <td>{{ val }}</td>
                {% empty %}
                  <td>—</td>
                {% endfor %}
              </tr>
            {% empty %}
              <tr>
                <td colspan="{{ languages|length|add:3 }}">
                  Nessun dato disponibile per Table A.
                </td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    {% else %}
      <p role="status">Nessun dato disponibile per Table A.</p>
    {% endif %}
  </div>  

{% endblock %}
