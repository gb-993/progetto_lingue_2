

@media (max-width: 768px) {

  /* --- Layout / container --- */
  .container {
    padding: 1.25rem 1rem; /* più compatto su mobile */
  }

  /* --- Toolbar impilata --- */
  .toolbar {
    display: grid;
    gap: 12px;
    align-items: start;
  }
  .toolbar form { display: grid; gap: 8px; }
  .toolbar .actions,
  .toolbar a.btn,
  .toolbar button.btn {
    width: 100%;
  }

  /* --- Griglie --- */
  .grid-2, .grid-3 {
    grid-template-columns: 1fr !important; /* una colonna su mobile */
  }

  /* --- Split + Sidebar --- */
  .split {
    grid-template-columns: 1fr !important; /* niente sidebar affiancata */
    gap: 1rem;
  }
  aside.card.sidebar {
    position: static; /* niente sticky su mobile */
    max-height: none;
    overflow: visible;
  }

  /* --- Bottoni (target touch/accessibilità) --- */
  a.btn, button.btn {
    min-height: 44px;
  }
  a:focus, button:focus {
    outline: 2px solid var(--focus);
    outline-offset: 2px;
  }

  /* --- Tabelle in formato “schede” accessibili (no scroll orizzontale) --- */
  .table { 
    width: 100%;
    border-collapse: separate; 
    border-spacing: 0; 
  }

  /* Nascondi thead visivamente ma lascialo ai lettori di schermo se hai caption/aria */
  .table thead { 
    position: absolute; 
    left: -9999px; 
    top: -9999px;
  }

  .table tbody tr {
    display: grid;
    grid-template-columns: 1fr;
    gap: 8px;
    padding: 12px;
    border: 1px solid var(--border);
    border-radius: var(--radius);
    margin-bottom: 12px;
    background: var(--surface);
  }

  .table tbody td,
  .table tbody th[scope="row"] {
    display: grid;
    grid-template-columns: 120px 1fr; /* etichetta + valore */
    gap: 6px;
    padding: 0;
    border: 0;
  }

  /* Etichetta colonna prima del valore */
  .table tbody td::before,
  .table tbody th[scope="row"]::before {
    content: attr(data-label);
    font-weight: 600;
    color: var(--text-muted);
  }

  /* Badge e azioni a tutta larghezza */
  .badge { 
    display: inline-block; 
    text-align: center; 
    padding: 6px 8px; 
    border-radius: 8px; 
  }
  .row-actions .btn { width: 100%; }

  .table-scroll {
    max-height: none;     /* libera lo spazio verticale su device piccoli */
    overflow: visible;    /* niente scrollbar dentro contenitori piccoli */
    background: transparent;
  }

  /* --- Paginazione e piccoli spazi --- */
  .pagination {
    justify-content: center;
  }
}
